#!/usr/bin/env python
import re

# Default build to use. 
LATEST_BUILD = "hg18";

# Required programs.
METAL2ZOOM_PATH = "metal2zoom.R"
NEWFUGUE_PATH = "new_fugue";

# Use SQL database or SQLite?
# True - use SQLite (for local installs)
# False - use SQL (for server install)
OFFLINE = True;

###############################################################################
# Settings for a local install that does not require a SQL database
###############################################################################

SQLITE_DB = "data/database/fusion.db";
SQLITE_SNP_POS = "snp_pos";
SQLITE_REFFLAT = "refFlat";
SQLITE_SNP_SET = "snp_set";
SQLITE_VAR_ANNOT = "var_annot";
SQLITE_RECOMB_RATE = "recomb_rate";

# Location of genotypes to use for LD calculations.
LD_DB = {
  '1000G' : {
    'hg18' : {
      'CEU' : {
        'ped_dir' : "/home/DataFromOthers/1000G/0908_NoSingletons/CEU/pedFiles/",
        'map_dir' : "/home/DataFromOthers/1000G/0908_NoSingletons/CEU/mapFiles/",
        'dat_dir' : "/home/DataFromOthers/1000G/0908_NoSingletons/CEU/datFiles/",
        'pos_file' : "/home/DataFromOthers/1000G/0908_NoSingletons/CEU/1000G_CEU_hg18_pos.csv"
      }
    }
  },
  'hapmap' : {
    'hg17' : {
      'CEU' : {
        'ped_dir' : "/home/DataFromOthers/HapMap/2007-01_phaseII/CEU/pedFiles/",
        'map_dir' : "/home/DataFromOthers/HapMap/2007-01_phaseII/CEU/mapFiles/",
        'dat_dir' : "/home/DataFromOthers/HapMap/2007-01_phaseII/CEU/datFiles/",
        'pos_file' : "/home/DataFromOthers/HapMap/2007-01_phaseII/hg17_ceu_pos.csv"
      },
      'JPT+CHB' : {
        'ped_dir' : "/home/DataFromOthers/HapMap/2007-01_phaseII/JPT+CHB/pedFiles/",
        'map_dir' : "/home/DataFromOthers/HapMap/2007-01_phaseII/JPT+CHB/mapFiles/",
        'dat_dir' : "/home/DataFromOthers/HapMap/2007-01_phaseII/JPT+CHB/datFiles/",
        'pos_file' : "/home/DataFromOthers/HapMap/2007-01_phaseII/hg17_jpt+chb_pos.csv"
      },
      'YRI' : {
        'ped_dir' : "/home/DataFromOthers/HapMap/2007-01_phaseII/YRI/pedFiles/",
        'map_dir' : "/home/DataFromOthers/HapMap/2007-01_phaseII/YRI/mapFiles/",
        'dat_dir' : "/home/DataFromOthers/HapMap/2007-01_phaseII/YRI/datFiles",
        'pos_file' : "/home/DataFromOthers/HapMap/2007-01_phaseII/hg17_yri_pos.csv"
      }
    },
    'hg18' : {
      'CEU' : {
        'ped_dir' : "/home/DataFromOthers/HapMap/2008-10_phaseII/CEU/pedFiles/",
        'map_dir' : "/home/DataFromOthers/HapMap/2008-10_phaseII/CEU/mapFiles/",
        'dat_dir' : "/home/DataFromOthers/HapMap/2008-10_phaseII/CEU/datFiles/",
        'pos_file' : "/home/DataFromOthers/HapMap/2008-10_phaseII/snp_pos_ceu_withX.csv"
      },
      'JPT+CHB' : {
        'ped_dir' : "/home/DataFromOthers/HapMap/2008-10_phaseII/JPT+CHB/pedFiles/",
        'map_dir' : "/home/DataFromOthers/HapMap/2008-10_phaseII/JPT+CHB/mapFiles/",
        'dat_dir' : "/home/DataFromOthers/HapMap/2008-10_phaseII/JPT+CHB/datFiles/",
        'pos_file' : "/home/DataFromOthers/HapMap/2008-10_phaseII/snp_pos_jpt+chb_withX.csv"
      },
      'YRI' : {
        'ped_dir' : "/home/DataFromOthers/HapMap/2008-10_phaseII/YRI/pedFiles/",
        'map_dir' : "/home/DataFromOthers/HapMap/2008-10_phaseII/YRI/mapFiles/",
        'dat_dir' : "/home/DataFromOthers/HapMap/2008-10_phaseII/YRI/datFiles/",
        'pos_file' : "/home/DataFromOthers/HapMap/2008-10_phaseII/snp_pos_yri_withX.csv"
      }
    }
  }
}

###############################################################################
# Server settings
###############################################################################

REALM = "annotation";
HOST = "f-gdb";
USER = "readonly";
PASS = "readfusn";

# SNP position tables for each build supported.
SNP_POS_TABLES = {
  'hg17' : 'snp_pos_hg17',
  'hg18' : 'snp_pos_hg18'
}

# Recombination rate tables for each build.
RECOMB_RATE_TABLES = {
  'hg17' : "recomb_rate",
  'hg18' : 'recomb_rate_b36'
}

# refFlat tables for each build
REFFLAT_TABLES = {
  'hg17' : "refFlat_hg17",
  'hg18' : "refFlat_hg18"
}

# Pre-computed LD locations.
PRECOMP_LD_DB = {
  'hapmap' : {
    'hg18' : {
      'CEU' : {
        'root' : "/home/DataFromOthers/HapMap/LD-build36-500kb-bySNP",
        'flank' : 500000
      }
    }
  }
}

###########################################################################
# Program-specific constants. Probably don't need to mess with these.
###########################################################################
DEFAULT_SNP_FLANK = "200kb";
DEFAULT_GENE_FLANK = "20kb";
RE_SNP_1000G = re.compile("chr(\d+|[a-zA-z]+):(\d+)$");
RE_SNP_RS = re.compile("rs(\d+)");
M2ZCL_FIRST = False;
MULTI_CAP = 8; 
###########################################################################
